# Chapter1

>章节一
>
>主要讲解了行和分栏的概念，输出的语法，行号和分栏数的内置表达式

## Demo1

```shell
awk '
{
#输出全部数据
print $0
#输出每行的第一分栏
print $1
#输出每行都第三分栏
print $3
#输出第二分栏和（第三分栏*第四分栏的值）
print $2, $3 * $4
}
' $*
```

执行命令： `./demo1 emp.dat`

输出

```shell
A123 Jenny 100 210
A123
100
Jenny 21000
A341 Dan 110 214
A341
110
Dan 23540
P158 Max 130 209
P158
130
Max 27170
P148 John 125 220
P148
125
John 27500
```



## Demo2

**NR** 行号

**NF** 分栏数

```shell
awk '
{
#输出每行的分栏数
print "第" NR "行, 分栏数为:" NF
}
' $*
```

执行命令： `./demo2 emp.dat`

输出

```sh
第1行, 分栏数为:4
第2行, 分栏数为:4
第3行, 分栏数为:4
第4行, 分栏数为:4
```



## Demo3

**FS** 用于设置分栏的分割符，默认以空格作为分割符

```shell
#重新指定分割符, 输出每行的分栏数
awk '
BEGIN{
FS = ","
}
{
printf("第%s行, 分栏数为:%s\n",NR, NF)
}
' $*
```

执行命令： `./demo3 emp.dat`

输出

```sh
第1行, 分栏数为:1
第2行, 分栏数为:1
第3行, 分栏数为:1
第4行, 分栏数为:1
```



## Demo4

**/Dan/** 对行的关键词进行过滤，可以用正则表达式

```shell
awk '
/Dan/ {
 print $0, $2
}
' $*
```

执行命令：`./demo4 emp.dat`

输出

```
A341 Dan 110 214 Dan
```

